(function(g){var window=this;'use strict';var Wv=function(x){x.publish("cardstatechange",x.p6()&&x.xj()?1:0)},OK=function(x,u){var k=g.AY(u),U=k?u:arguments;
for(k=k?0:1;k<U.length;k++){if(x==null)return;x=x[U[k]]}return x},NPw=function(x){var u=g.E1(x);
x=g.nq(x);return new g.q4(u.x,u.y,x.width,x.height)},deZ=function(x,u,k){var U=U===void 0?{}:U;
var m;return m=g.OM(x,u,function(){g.iR(m);k.apply(x,arguments)},U)},nB=function(x){x=g.D$(x);
delete iL[x];g.$G(iL)&&lL&&lL.stop()},vQ$=function(){lL||(lL=new g.gl(function(){K7t()},20));
var x=lL;x.isActive()||x.start()},K7t=function(){var x=g.xw();
g.YG(iL,function(u){TPB(u,x)});
g.$G(iL)||vQ$()},$z=function(x,u,k,U){g.cN.call(this);
if(!Array.isArray(x)||!Array.isArray(u))throw Error("Start and end parameters must be arrays");if(x.length!=u.length)throw Error("Start and end points must be the same length");this.V=x;this.D=u;this.duration=k;this.N=U;this.coords=[];this.progress=this.j=0;this.K=null},TPB=function(x,u){u<x.startTime&&(x.endTime=u+x.endTime-x.startTime,x.startTime=u);
x.progress=(u-x.startTime)/(x.endTime-x.startTime);x.progress>1&&(x.progress=1);x.j=1E3/(u-x.K);x.K=u;AZk(x,x.progress);x.progress==1?(x.S=0,nB(x),x.onFinish(),x.Eq()):x.isPlaying()&&x.K2()},AZk=function(x,u){typeof x.N==="function"&&(u=x.N(u));
x.coords=Array(x.V.length);for(var k=0;k<x.V.length;k++)x.coords[k]=(x.D[k]-x.V[k])*u+x.V[k]},CNZ=function(x,u){g.IP.call(this,x);
this.coords=u.coords;this.x=u.coords[0];this.y=u.coords[1];this.z=u.coords[2];this.duration=u.duration;this.progress=u.progress;this.fps=u.j;this.state=u.S},rV=function(x,u,k,U,m){$z.call(this,u,k,U,m);
this.element=x},L7t=function(x,u,k,U,m){if(u.length!=2||k.length!=2)throw Error("Start and end points must be 2D");
rV.call(this,x,u,k,U,m)},DeW=function(x){return Math.pow(x,3)},SU$=function(x){return 3*x*x-2*x*x*x},BPm=function(x){g.J.call(this);
this.V=x||window;this.S=[]},jR=function(x){return x.baseUrl||null},ZH=function(x,u){return g.sZ(g.nl(x,u),function(k){return!!k})},o1G=function(x,u,k){function U(Fj){var ob=Fj.hovercardButton;
if(!ob)return null;ob=ob.subscribeButtonRenderer;if(!ob)return null;var K=F(ob.unsubscribedButtonText),B=F(ob.subscribedButtonText);if(ob.subscribed){var y=F(ob.subscriberCountWithUnsubscribeText);var v=F(ob.subscriberCountText)}else y=F(ob.subscriberCountText),v=F(ob.subscriberCountWithSubscribeText);var P4=null;if(Fj.signinEndpoint){P4=OK(Fj,"signinEndpoint","webNavigationEndpointData","url");if(!P4){var Yw,so;P4=(so=g.d((Yw=ob.signInEndpoint)==null?void 0:Yw.commandMetadata,g.wC))==null?void 0:
so.url}if(!P4)return null}return K&&(B||P4)?{subscribed:ob.subscribed,subscribeText:K,subscribeCount:y,unsubscribeText:B,unsubscribeCount:v,enabled:ob.enabled,signinUrl:P4,classic:Fj.useClassicSubscribeButton}:null}
function m(Fj){if(Fj){var ob=[],K=Fj.videoId;K&&ob.push("v="+K);(K=Fj.playlistId)&&ob.push("list="+K);(Fj=Fj.startTimeSeconds)&&ob.push("t="+Fj);return"/watch?"+ob.join("&")}}
function F(Fj){if(!Fj)return null;var ob=Fj.simpleText;return ob?ob:Fj.runs?g.nl(Fj.runs,function(K){return K.text}).join(""):null}
u=u.endscreenElementRenderer;if(!u)return null;var f=u.style,V=u.endpoint||{},h=null,X=null,q=!1,H=null,R=null,p=null,c=null,Y=!1,E=null,z=null,O=null,r=null,I=null,N=null;if(f==="VIDEO")g.d(V,g.dU)?h=g.d(V,g.dU).url:(N=g.d(V,g.x8),h=m(N)),X=!1,H=x,u.thumbnailOverlays?(q=u.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,R=F(q.text),q=q.style==="LIVE"):R=F(u.videoDuration);else if(f==="PLAYLIST")g.d(V,g.dU)?h=g.d(V,g.dU).url:(N=g.d(V,g.x8),h=m(N)),X=!1,H=x,p=F(u.playlistLength);else if(f===
"CHANNEL"){if(Y=OK(V,"browseEndpoint","browseId"))c=Y,h="/channel/"+c;X=!1;H="new";(Y=!!u.isSubscribe)?E=U(u):z=F(u.subscribersText)}else f==="WEBSITE"?((O=OK(V,"urlEndpoint","url"))&&(h=O),X=!0,H="new",O=u.icon.thumbnails[0].url):f==="CREATOR_MERCHANDISE"&&(u.productPrice&&(r=F(u.productPrice)),u.additionalFeesText&&(I=F(u.additionalFeesText)),(X=OK(V,"urlEndpoint","url"))&&(h=X),X=!0,H="new");x=OK(u,"title","accessibility","accessibilityData","label");var L=u.endpoint?u.endpoint.clickTrackingParams:
null,C="";if(u.metadata){var kI=F(u.metadata);kI&&(C=kI)}return{id:"element-"+k,type:f,title:F(u.title),metadata:C,callToAction:F(u.callToAction),fp:u.image,iconUrl:O,left:Number(u.left),width:Number(u.width),top:Number(u.top),aspectRatio:Number(u.aspectRatio),startMs:Math.floor(Number(u.startMs)),endMs:Math.floor(Number(u.endMs)),videoDuration:R,KU:q,playlistLength:p,channelId:c,subscribeButton:E,subscribersText:z,isSubscribe:Y,targetUrl:h||null,tMt:X,sessionData:L?{itct:L}:null,AsJ:H,T_:x?x:null,
isPlaceholder:u.isPlaceholder,impressionUrls:ZH(u.impressionUrls||[],jR),HmX:ZH(u.hovercardShowUrls||[],jR),clickUrls:ZH(V.loggingUrls||[],jR),visualElement:g.ld(u.trackingParams),productPrice:r,additionalFeesText:I,watchEndpoint:N||null}},xat=function(x,u){var k={startMs:Math.floor(Number(x.startMs)),
impressionUrls:ZH(x.impressionUrls||[],jR),elements:ZH(x.elements||[],function(U,m){return o1G(u,U,m)})};
x.trackingParams&&(k.visualElement=g.ld(x.trackingParams));return k},uiG=function(x){g.wj.call(this,x);
this.K=this.endscreen=null;this.V={};this.j={};this.N=this.J=null;this.B=[];this.S=null;this.t5=!0;this.D=0;x=x.X();this.U=g.Q$(x)||g.eH(x);this.events=new g.Pr(this);g.P(this,this.events);this.events.Y(this.player,g.X0("creatorendscreen"),this.onCueRangeEnter);this.events.Y(this.player,g.qY("creatorendscreen"),this.onCueRangeExit);this.events.Y(this.player,"resize",this.xV);this.events.Y(window,"focus",this.UNt);this.load();var u=g.gF("STYLE");(g.A0("HEAD")[0]||document.body).appendChild(u);this.addOnDisposeCallback(function(){g.fk(u)});
u.sheet&&(u.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),u.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},g1G=function(x){return x.player.getVideoData().tN?"current":x.U?"new":"current"},ag=function(x){return x.player.X().playerStyle==="creator-endscreen-editor"},kNG=function(x){var u=x.player.getVideoData(),k=u.videoId;
x.K&&x.K.abort();k={method:"POST",onFinish:function(m){var F=x.K=null;m.status===200&&(m=m.responseText,m.substring(0,3)===")]}"&&(m=m.substring(3),F=JSON.parse(m),F=xat(F,g1G(x))));Q1(x,F)},
urlParams:{v:k},withCredentials:!0};x.U&&(k.urlParams.ptype="embedded");var U=u.ea;U&&(k.postParams={ad_tracking:U});if(u=g.ksD(u))if(u=g.ZO(u),u=g.$1(u))x.K=g.$c(u,k)},Q1=function(x,u,k){k=k===void 0?!0:k;
x.player.Gw("creatorendscreen");x.J&&(x.J.dispose(),x.J=null,x.N.dispose(),x.N=null);for(var U=g.w(Object.values(x.V)),m=U.next();!m.done;m=U.next())m.value.dispose();x.V={};x.j={};x.B.length>0&&(x.B.forEach(function(V){V.dispose()}),x.B.length=0);
x.S&&(g.HN(x.S,"ytp-ce-element-show"),x.S.setAttribute("aria-hidden","true"));x.D=0;if((x.endscreen=u)&&u.elements){k&&UaS(x);k=[];U=new g.V5(u.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});k.push(U);x.player.X().V||(x.J=new g.T({T:"div",Z:"ytp-ce-shadow"}),g.QD(x.player,x.J.element,4),x.N=new g.fD(x.J,200));for(U=0;U<u.elements.length;++U){m=u.elements[U];var F=maB(x,m);if(F){x.V[m.id]=F;x.j[m.id]=m;g.QD(x.player,F.element,4);var f=new g.V5(m.startMs,m.endMs,{id:"ytp-ce-element-"+
m.id,namespace:"creatorendscreen"});k.push(f);Fr9(x,F,m)}else g.Nz(new g.BG("buildEndscreenElement null",m))}x.player.tO(k);x.xV()}},UaS=function(x){var u=g.$Y(),k=g.rK();
k&&u&&x.endscreen.visualElement&&g.UQ(g.xd)(void 0,k,u,x.endscreen.visualElement)},maB=function(x,u){var k=null;
switch(u.type){case "VIDEO":x={T:"div",W$:["ytp-ce-element","ytp-ce-video"],C:{tabindex:"0","aria-label":u.T_||"","aria-hidden":"true"},L:[{T:"div",Z:"ytp-ce-element-shadow"},{T:"div",Z:"ytp-ce-covering-image",C:Ig(u)},{T:"div",Z:"ytp-ce-covering-shadow-top"},{T:"a",Z:"ytp-ce-covering-overlay",C:{href:eR(x,u.targetUrl),tabindex:"-1"},L:[{T:"div",W$:["ytp-ce-video-title","ytp-webkit-ellipsis"],C:{dir:g.tW(u.title||"")},VX:u.title},{T:"div",Z:u.KU?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
VX:u.videoDuration||void 0}]}]};k=new g.T(x);break;case "PLAYLIST":x={T:"div",W$:["ytp-ce-element","ytp-ce-playlist"],C:{tabindex:"0","aria-label":u.T_||"","aria-hidden":"true"},L:[{T:"div",Z:"ytp-ce-element-shadow"},{T:"div",Z:"ytp-ce-covering-image",C:Ig(u)},{T:"div",Z:"ytp-ce-covering-shadow-top"},{T:"a",Z:"ytp-ce-covering-overlay",C:{href:eR(x,u.targetUrl),tabindex:"-1"},L:[{T:"div",W$:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],C:{dir:g.tW(u.title||"")},VX:u.title},{T:"div",Z:"ytp-ce-playlist-count",
L:[{T:"div",Z:"ytp-ce-playlist-icon"},{T:"div",Z:"ytp-ce-playlist-count-text",VX:u.playlistLength||void 0}]}]}]};k=new g.T(x);break;case "CHANNEL":k={T:"div",W$:["ytp-ce-element","ytp-ce-channel",u.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],C:{tabindex:"0","aria-label":u.T_||"","aria-hidden":"true"},L:[{T:"div",Z:"ytp-ce-element-shadow"},{T:"div",Z:"ytp-ce-expanding-overlay",L:[{T:"div",Z:"ytp-ce-expanding-overlay-hider"},{T:"div",Z:"ytp-ce-expanding-overlay-background"},{T:"div",Z:"ytp-ce-expanding-overlay-content",
L:[{T:"div",Z:"ytp-ce-expanding-overlay-body",L:[{T:"div",Z:"ytp-ce-expanding-overlay-body-padding",L:[{T:"a",W$:["ytp-ce-channel-title","ytp-ce-link"],C:{href:eR(x,u.targetUrl),target:"_blank",tabindex:"-1",dir:g.tW(u.title||"")},VX:u.title},u.subscribeButton?{T:"div",Z:"ytp-ce-subscribe-container",L:[{T:"div",Z:"ytp-ce-channel-subscribe"}]}:"",u.subscribersText?{T:"div",Z:"ytp-ce-channel-subscribers-text",VX:u.subscribersText}:"",u.metadata?{T:"div",W$:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],VX:u.metadata}:""]}]}]}]},{T:"div",Z:"ytp-ce-expanding-image",C:Ig(u)}]};k=new g.T(k);var U=g.Lw(document,"div","ytp-ce-channel-subscribe",k.element)[0];if(u.subscribeButton&&u.channelId){g.qN(U,"ytp-ce-subscribe-button");if(x.player.X().V){var m=null;var F=u.sessionData.itct}else m="endscreen",F=null;m=new g.ou(u.subscribeButton.subscribeText,u.subscribeButton.subscribeCount,u.subscribeButton.unsubscribeText,u.subscribeButton.unsubscribeCount,!!u.subscribeButton.enabled,!!u.subscribeButton.classic,
u.channelId,!!u.subscribeButton.subscribed,m,F,x.player,!1);U.appendChild(m.element);x.B.push(m)}break;case "WEBSITE":x={T:"div",W$:["ytp-ce-element","ytp-ce-website"],C:{tabindex:"0","aria-label":u.T_||"","aria-hidden":"true"},L:[{T:"div",Z:"ytp-ce-element-shadow"},{T:"div",Z:"ytp-ce-expanding-overlay",L:[{T:"div",Z:"ytp-ce-expanding-overlay-hider"},{T:"div",Z:"ytp-ce-expanding-overlay-background"},{T:"div",Z:"ytp-ce-expanding-overlay-content",L:[{T:"div",Z:"ytp-ce-expanding-overlay-body",L:[{T:"div",
Z:"ytp-ce-expanding-overlay-body-padding",L:[{T:"div",Z:"ytp-ce-website-title",C:{dir:g.tW(u.title||"")},VX:u.title},{T:"div",Z:"ytp-ce-website-metadata",VX:u.metadata},{T:"a",W$:["ytp-ce-website-goto","ytp-ce-link"],C:{href:eR(x,u.targetUrl),target:"_blank",tabindex:"-1"},VX:u.callToAction}]}]}]}]},{T:"div",Z:"ytp-ce-expanding-image",C:Ig(u)},{T:"div",Z:"ytp-ce-expanding-icon",C:fOw(u.iconUrl)}]};k=new g.T(x);break;case "CREATOR_MERCHANDISE":k="",u.productPrice&&(k={T:"div",Z:"ytp-ce-merchandise-price-container",
L:[{T:"div",Z:"ytp-ce-merchandise-price",VX:u.productPrice}]},u.additionalFeesText&&k.L.push({T:"div",Z:"ytp-ce-merchandise-additional-fees",VX:u.additionalFeesText})),x={T:"div",W$:["ytp-ce-element","ytp-ce-merchandise"],C:{tabindex:"0","aria-label":u.T_||"","aria-hidden":"true"},L:[{T:"div",Z:"ytp-ce-element-shadow"},{T:"div",Z:"ytp-ce-expanding-overlay",L:[{T:"div",Z:"ytp-ce-expanding-overlay-hider"},{T:"div",Z:"ytp-ce-expanding-overlay-background"},{T:"div",Z:"ytp-ce-expanding-overlay-content",
L:[{T:"div",Z:"ytp-ce-expanding-overlay-body",L:[{T:"div",Z:"ytp-ce-expanding-overlay-body-padding",L:[{T:"div",Z:"ytp-ce-merchandise-title",C:{dir:g.tW(u.title||"")},VX:u.title},k,{T:"div",Z:"ytp-ce-merchandise-metadata",VX:u.metadata},{T:"a",W$:["ytp-ce-merchandise-goto","ytp-ce-link"],C:{href:eR(x,u.targetUrl),target:"_blank",tabindex:"-1"},VX:u.callToAction}]}]}]}]},{T:"div",Z:"ytp-ce-expanding-image",C:Ig(u)},{T:"div",Z:"ytp-ce-merchandise-invideo-cta-container",L:[{T:"div",Z:"ytp-ce-merchandise-invideo-cta",
VX:u.callToAction||void 0}]}]},k=new g.T(x)}u.isPlaceholder&&g.qN(k.element,"ytp-ce-placeholder");return k},Ig=function(x){if(x.fp)var u=x.fp.thumbnails;
return fOw(u?u[u.length-1].url:null)},fOw=function(x){return x?{style:"background-image: url("+x+")"}:{}},Fr9=function(x,u,k){function U(h){h&&(u.listen("blur",function(){h.style.display!="none"&&x.t5&&h.focus()}),u.Y(h,"focus",F),u.Y(h,"blur",f))}
function m(h){x.D+=h;x.D>0?(g.qN(u.element,"ytp-ce-force-expand"),JJ(x,k.id,!0)):(g.HN(u.element,"ytp-ce-force-expand"),g.HN(u.element,"ytp-ce-element-hover"),JJ(x,k.id,!1))}
function F(){m(1)}
function f(){m(-1)}
u.listen("mouseenter",function(){b6k(x,u,k)});
u.listen("mouseleave",function(){VJt(x,u,k)});
x.player.X().V||u.listen("click",function(){g.qN(u.element,"ytp-ce-element-hover")});
u.listen("click",function(h){hLk(x,k,h)});
u.listen("keypress",function(h){hLk(x,k,h)});
u.listen("focus",function(){b6k(x,u,k)});
u.listen("blur",function(){VJt(x,u,k)});
u.listen("touchstart",function(){b6k(x,u,k)});
var V=g.DE("ytp-ce-expanding-overlay-hider",u.element);V&&u.Y(V,"touchstart",function(h){h.stopPropagation();g.HN(u.element,"ytp-ce-element-hover");g.HN(u.element,"ytp-ce-force-expand")});
u.listen("keydown",function(h){x.t5=h.keyCode===9&&!h.shiftKey});
U(g.DE("ytp-sb-subscribe",u.element));U(g.DE("ytp-sb-unsubscribe",u.element));u.listen("focus",F);u.listen("blur",f)},hLk=function(x,u,k){if(u.targetUrl&&(!k||k.type!=="keypress"||k.keyCode===13)){for(var U=k.target;U&&!g.XH(U,"ytp-ce-element");){g.XH(U,"subscribe-label")&&Xn$(x,u);
if(g.XH(U,"ytp-ce-channel-subscribe"))return;U=U.parentElement||null}if(!U||g.XH(U,"ytp-ce-element-hover")){k.preventDefault();k.stopPropagation();if(U=x.V[u.id])VJt(x,U,u),U.element.blur();if(k.ctrlKey||k.metaKey||u.AsJ==="new")Xn$(x,u),x.player.sendVideoStatsEngageEvent(17,void 0),x.player.pauseVideo(),k=g.ZO(eR(x,u.targetUrl)),k=g.$1(k),g.DW(k,void 0,u.sessionData);else{var m=g.BC(x.player.X())||x.player.getVideoData().tN,F=function(){var f=eR(x,u.targetUrl),V=u.sessionData,h=u.watchEndpoint,X=
g.hX(f);m&&X&&(X.v||X.list)?x.player.ZR(X.v,V,X.list,!1,void 0,h||void 0):g.LD(f,V)};
Xn$(x,u,function(){x.player.sendVideoStatsEngageEvent(17,F)})}}}},eR=function(x,u){x=x.player.X();
if(u){if(u.startsWith("//"))return x.protocol+":"+u;if(u.startsWith("/"))return g.mD(x)+u}else return"";return u},b6k=function(x,u,k){g.XH(u.element,"ytp-ce-element-hover")||(k.type==="VIDEO"||k.type==="PLAYLIST"?g.qN(u.element,"ytp-ce-element-hover"):x.player.X().V?(new g.gl(function(){g.qN(u.element,"ytp-ce-element-hover")},200)).start():g.qN(u.element,"ytp-ce-element-hover"),Pv(x,k.HmX),JJ(x,k.id,!0))},VJt=function(x,u,k){g.HN(u.element,"ytp-ce-element-hover");
g.HN(u.element,"ytp-ce-force-expand");JJ(x,k.id,!1)},JJ=function(x,u,k){x.J&&(k?x.N.show():x.N.hide());
for(var U=g.w(Object.keys(x.V)),m=U.next();!m.done;m=U.next())m=m.value,m!==u&&g.pb(x.V[m].element,"ytp-ce-element-shadow-show",k)},Pv=function(x,u,k){function U(){F||(m++,m===u.length&&(f.stop(),k&&k()))}
if(!u||u.length===0||ag(x))k&&k();else{u=qXm(x,u);var m=0,F=!1,f=new g.gl(function(){F=!0;k&&k()},1E3,x);
f.start();for(x=0;x<u.length;x++)g.Aq(u[x],U)}},Xn$=function(x,u,k){Pv(x,u.clickUrls,k);
(x=g.rK())&&u.tMt&&g.Xy(x,u.visualElement)},qXm=function(x,u){var k=x.player.getVideoData().clientPlaybackNonce;
x=x.player.getCurrentTime().toFixed(2);k={CPN:k,AD_CPN:k,MT:x};x=[];for(var U=0;U<u.length;U++)x.push(s4m(u[U],k));return x},s4m=function(x,u){return x.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(k){var U=unescape(k);
U=U.substring(1,U.length-1);return u[U]?escape(u[U]):k})},H6m=function(x){return typeof x==="string"?x:""},Nh=function(x,u,k){for(var U in u)if(u[U]===x)return x;
return k},RLm=function(x,u,k,U){this.value=x;
this.target=u;this.showLinkIcon=k;this.S=U},dV=function(x){return x.value?x.value:null},KB=function(x){if(!x)return null;
var u=g.ZO(H6m(x.value));u=g.$1(u);if(!u)return null;var k=Nh(x.target,pnZ,"current");if(k==null)x=null;else{var U=x.show_link_icon;x=new RLm(u,k,U==="true"||U==="false"?U==="true":!0,x.pause_on_navigation!=null?x.pause_on_navigation:!0)}return x},cEs=function(x,u,k){this.type=x;
this.trigger=u;this.url=k},yEw=function(x){if(!x)return null;
var u=Nh(x.type,MJt),k=Nh(x.trigger,wnw);x=x.url;x=Array.isArray(x)&&x.length?x[0]:x;x=KB(x?x:null);return u?new cEs(u,k,x):null},YX9=function(x,u,k,U,m){this.id=x;
this.type=u;this.style=k;this.data=m;this.action=U||[]},tJm=function(x,u){return g.Cm(x.action,u)},E1G=function(x,u){this.context=x;
this.S=u},GNS=function(x){return x.customMessage?vv("div","iv-card-message",x.customMessage):""},TO=function(x,u){x="background-image: url("+x+");";
var k=[];u&&k.push(u);return{T:"div",Z:"iv-card-image",C:{style:x},L:k}},zLk=function(x){if(!x.metaInfo||x.metaInfo.length===0)return"";
var u=[];x=g.w(x.metaInfo);for(var k=x.next();!k.done;k=x.next())u.push(vv("li","",k.value));return{T:"ul",Z:"iv-card-meta-info",L:u}},vv=function(x,u,k){u?typeof u==="string"?u={"class":u}:Array.isArray(u)&&(u={"class":u.join(" ")}):u={};
u.dir=g.tW(k);return{T:x,C:u,VX:k}},WrS=function(x){if(!x.customMessage)return"";
var u=["iv-card-action","iv-card-primary-link"],k={};x.E7&&(u.push("iv-card-action-icon"),k.style="background-image: url("+x.E7+");");k.dir=g.tW(x.customMessage);var U=[{T:"span",VX:x.customMessage}];x.showLinkIcon&&(U.push("\u00a0"),U.push({T:"span",Z:"iv-card-link-icon"}));return{T:"div",W$:u,C:k,L:U}},AJ=function(x,u,k,U){if(U){u=g.w(u);
for(var m=u.next();!m.done;m=u.next())x.S(m.value,U,k.id,k.sessionData,k.T0.click,5)}},O6Z=function(x,u){this.merchant=x;
this.price=u},i6S=function(x){var u;
(u=x)&&!(u=x.length>1?x.charAt(0)==="/"&&x.charAt(1)!=="/":x==="/")&&(u=x.replace(/^(https?:)?\/\//,"").split("/",1),u=!u||u.length<1||!u[0]?[]:u[0].toLowerCase().split(".").reverse(),u=u[0]==="com"&&u[1]==="youtube"||u[0]==="be"&&u[1]==="youtu");return u?x.indexOf("/redirect?")===-1:!1},lO9=function(x,u){return u?u:i6S(x)?"current":"new"},CB=function(x,u){g.J.call(this);
var k=this;this.element=x;this.context=u;this.oS=!1;this.GY=new Map;this.B$=new Map;this.context.W.addEventListener(g.X0("annotations_module"),function(U){(U=k.GY.get(U))&&U.apply(k)});
this.context.W.addEventListener(g.qY("annotations_module"),function(U){(U=k.B$.get(U))&&U.apply(k)})},LB=function(x,u,k,U,m,F,f){x.context.S.listen(u,"click",function(V){x.kM(k,U,m,F||[],f||0,V)});
x.context.S.listen(u,"touchstart",function(){x.oS=!1});
x.context.S.listen(u,"touchmove",function(){x.oS=!0})},n1k=function(x){var u;
return((u=g.d(x,g.dU))==null?0:u.url)?g.d(x,g.dU).url:(x=g.d(x,g.x8))&&x.videoId?(u="/watch?v="+x.videoId,x.playlistId&&(u+="&list="+x.playlistId),x.index&&(u+="&index="+x.index),x.startTimeSeconds&&(u+="&t="+x.startTimeSeconds),u):null},DH=function(x,u,k){return{ix:(x.impressionLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""}),
click:(k.loggingUrls||[]).map(function(U){return U.baseUrl||""}),
close:(u.dismissLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""}),
GJ:(u.impressionLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""}),
yP:(u.clickLoggingUrlsV2s||[]).map(function(U){return U.baseUrl||""})}},$as=function(x,u,k){CB.call(this,u,k);
var U=this;this.W=x;this.eventId=null;this.Nj=this.c$=this.ud=this.J=this.isInitialized=!1;this.cards=[];this.Uk=this.B=this.gm=this.N=this.IS=this.S=null;this.t5=[];this.RS=this.D=this.U_=this.ut=null;this.j=0;this.nm=new g.gl(function(){},k.x$.kD?4E3:3E3);
g.P(this,this.nm);this.P$=new g.gl(function(){});
g.P(this,this.P$);this.Ok=new E1G(k,function(m,F,f,V,h,X){LB(U,m,F,f,V,h,X)});
this.U=new g.T({T:"div",Z:"iv-drawer",C:{id:"iv-drawer"},L:[{T:"div",Z:"iv-drawer-header",C:{"aria-role":"heading"},L:[{T:"span",Z:"iv-drawer-header-text"},{T:"button",W$:["iv-drawer-close-button","ytp-button"],C:{"aria-label":"Hide cards",tabindex:"0"}}]},{T:"div",Z:"iv-drawer-content"}]});g.P(this,this.U);this.K=this.U.element;this.QX=new g.fD(this.U,330);g.P(this,this.QX);this.RU=g.DE("iv-drawer-header-text",this.K);this.V=g.DE("iv-drawer-content",this.K);this.addCueRange(0,k.videoData.lengthSeconds*
1E3,"",function(){U.ud&&SR(U,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(U.ud=U.J)&&Bv(U)});
this.q$=new g.Pr(this);g.P(this,this.q$);this.W.addEventListener("videodatachange",this.B3.bind(this))},rEm=function(x,u){u=u.data;
u.autoOpenMs&&x.addCueRange(u.autoOpenMs,0x8000000000000,"",function(){SR(x,"YOUTUBE_DRAWER_AUTO_OPEN")});
u.autoCloseMs&&x.addCueRange(u.autoCloseMs,0x8000000000000,"",function(){Bv(x)});
var k=u.headerText;g.VU(x.RU,k);x.B&&x.B.setAttribute("title",k);u.eventId&&(x.eventId=u.eventId);x.ut=g.ld(u.trackingParams);x.D=g.ld(u.closeTrackingParams);x.U_=g.ld(u.iconTrackingParams)},j4k=function(x,u){var k=u.cardId?u.cardId:"cr:"+x.j,U=x.W.X().experiments.H$("enable_error_corrections_infocard_web_client");
if(!u.content&&u.teaser.simpleCardTeaserRenderer&&U){var m=u.teaser.simpleCardTeaserRenderer,F=u.icon?u.icon.infoCardIconRenderer:null;u={id:k,timestamp:x.j,type:"simple",teaserText:g.te(m.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:{},sponsored:!1,T0:{},RD:null,vA:m.trackingParams?g.ld(m.trackingParams):null,U_:F&&F.trackingParams?g.ld(F.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
E7:null,title:"",customMessage:"",url:null,onClickCommand:m.onTapCommand||null};o_(x,u)}else{var f;if((f=u.content)==null?0:f.simpleCardContentRenderer){if(!u.cueRanges.length)return;F=(m=u.content)==null?void 0:m.simpleCardContentRenderer;m=u.teaser.simpleCardTeaserRenderer;var V=u.icon?u.icon.infoCardIconRenderer:null;u={id:k,timestamp:x.j,type:"simple",teaserText:g.te(m.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,
sessionData:xO(x,k,u,F),sponsored:!1,T0:DH(F,m,F.command),RD:F.trackingParams?g.ld(F.trackingParams):null,vA:m.trackingParams?g.ld(m.trackingParams):null,U_:V&&V.trackingParams?g.ld(V.trackingParams):null,imageUrl:u7(F.image.thumbnails,290).url,displayDomain:F.displayDomain?g.te(F.displayDomain):null,showLinkIcon:!!F.showLinkIcon,E7:null,title:F.title?g.te(F.title):"",customMessage:F.callToAction?g.te(F.callToAction):"",url:g.d(F.command,g.dU).url?KB({pause_on_navigation:!x.context.videoData.isLivePlayback,
target:"new",value:g.d(F.command,g.dU).url}):null,onClickCommand:null};o_(x,u)}else{var h;if((h=u.content)==null?0:h.collaboratorInfoCardContentRenderer){if(!u.cueRanges.length)return;m=(F=u.content)==null?void 0:F.collaboratorInfoCardContentRenderer;F=u.teaser.simpleCardTeaserRenderer;V=u.icon?u.icon.infoCardIconRenderer:null;u={id:k,timestamp:x.j,type:"collaborator",teaserText:g.te(F.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),startMs:Number(u.cueRanges[0].startCardActiveMs),
autoOpen:!!u.autoOpen,sessionData:xO(x,k,u,m),sponsored:!1,T0:DH(m,F,m.endpoint),RD:m.trackingParams?g.ld(m.trackingParams):null,vA:F.trackingParams?g.ld(F.trackingParams):null,U_:V&&V.trackingParams?g.ld(V.trackingParams):null,channelId:g.d(m.endpoint,g.OS).browseId,customMessage:m.customText?g.te(m.customText):null,profileImageUrl:u7(m.channelAvatar.thumbnails,290).url,title:m.channelName?g.te(m.channelName):"",metaInfo:[m.subscriberCountText?g.te(m.subscriberCountText):""],url:KB({pause_on_navigation:!x.context.videoData.isLivePlayback,
target:"new",value:g.d(m.endpoint,g.OS).canonicalBaseUrl?g.d(m.endpoint,g.OS).canonicalBaseUrl:"/channel/"+g.d(m.endpoint,g.OS).browseId}),onClickCommand:null};o_(x,u)}else{var X;if((X=u.content)==null?0:X.playlistInfoCardContentRenderer){if(!u.cueRanges.length)return;m=(V=u.content)==null?void 0:V.playlistInfoCardContentRenderer;F=u.teaser.simpleCardTeaserRenderer;V=u.icon?u.icon.infoCardIconRenderer:null;u={id:k,timestamp:x.j,type:"playlist",teaserText:g.te(F.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),
startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:xO(x,k,u,m),sponsored:!1,T0:DH(m,F,m.action),RD:m.trackingParams?g.ld(m.trackingParams):null,vA:F.trackingParams?g.ld(F.trackingParams):null,U_:V&&V.trackingParams?g.ld(V.trackingParams):null,G5:u7(m.playlistThumbnail.thumbnails,258).url,customMessage:m.customMessage?g.te(m.customMessage):null,playlistVideoCount:g.te(m.playlistVideoCount),title:m.playlistTitle?g.te(m.playlistTitle):"",metaInfo:[m.channelName?g.te(m.channelName):
"",m.videoCountText?g.te(m.videoCountText):""],url:KB({pause_on_navigation:!x.context.videoData.isLivePlayback,target:"new",value:n1k(m.action)}),onClickCommand:null};o_(x,u)}else{var q;if((q=u.content)==null?0:q.videoInfoCardContentRenderer){if(!u.cueRanges.length)return;var H;m=(H=u.content)==null?void 0:H.videoInfoCardContentRenderer;F=u.teaser.simpleCardTeaserRenderer;V=u.icon?u.icon.infoCardIconRenderer:null;u={id:k,timestamp:x.j,type:"video",teaserText:g.te(F.message),teaserDurationMs:Number(u.cueRanges[0].teaserDurationMs),
startMs:Number(u.cueRanges[0].startCardActiveMs),autoOpen:!!u.autoOpen,sessionData:xO(x,k,u,m),sponsored:!1,T0:DH(m,F,m.action),RD:m.trackingParams?g.ld(m.trackingParams):null,vA:F.trackingParams?g.ld(F.trackingParams):null,U_:V&&V.trackingParams?g.ld(V.trackingParams):null,G5:u7(m.videoThumbnail.thumbnails,258).url,videoDuration:m.lengthString?g.te(m.lengthString):null,customMessage:m.customMessage?g.te(m.customMessage):null,title:m.videoTitle?g.te(m.videoTitle):"",metaInfo:[m.channelName?g.te(m.channelName):
"",m.viewCountText?g.te(m.viewCountText):""],isLiveNow:!!m.badge,url:KB({pause_on_navigation:!x.context.videoData.isLivePlayback,target:"new",value:n1k(m.action)}),onClickCommand:null};o_(x,u)}}}}}x.j++},u7=function(x,u){for(var k=-1,U=-1,m=0;m<x.length;m++){if(x[m].height===u||x[m].width===290)return x[m];
((x[m].height||0)<u||(x[m].width||0)<290)&&(k<0||(x[k].height||0)<(x[m].height||0)||(x[k].width||0)<(x[m].width||0))?k=m:((x[m].height||0)>=u||(x[m].width||0)>=290)&&(U<0||(x[U].height||0)>(x[m].height||0)||(x[U].width||0)>(x[m].width||0))&&(U=m)}return x[U>=0?U:k]},xO=function(x,u,k,U){return{feature:k.feature?k.feature:"cards",
src_vid:x.context.videoData.videoId,annotation_id:u,ei:x.context.videoData.eventId||"",itct:U.trackingParams||""}},aOG=function(x,u){if(u=Z6G(x,u))u===x.S&&(x.S=null),x.W.removeCueRange(u.X6.id),g.fk(u.rT),g.Bk(x.cards,u),x.UB(),gE(x)},SR=function(x,u,k){if(!x.J){x.QX.show();
x.IS=new g.gl(function(){g.qN(x.context.W.getRootNode(),g.Ch.IV_DRAWER_OPEN)},0);
x.IS.start();x.q$.Y(x.V,"mousewheel",function(f){x.nm.start();f.preventDefault();f=f||window.event;var V=0;f.type=="MozMousePixelScroll"?V=0==(f.axis==f.HORIZONTAL_AXIS)?f.detail:0:window.opera?V=f.detail:V=f.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?f.wheelDeltaY/-30:f.wheelDeltaY/-1.2:f.wheelDelta/-1.6:f.wheelDeltaY/-3;if(f=V)x.V.scrollTop+=f});
x.J=!0;var U=g.rK();U&&x.ut&&x.D&&g.VY(U,[x.ut,x.D]);u={TRIGGER_TYPE:u};for(var m=g.w(x.cards),F=m.next();!F.done;F=m.next())F=F.value,F.jG||(F.jG=!0,Q4s(x.context.logger,F.X6.T0.ix,u)),U&&g.VY(U,[F.X6.RD]);Wv(x.W);k&&(x.N=new g.gl(function(){x.gm=x.B;x.Uk.focus()},330),x.N.start())}},Bv=function(x){x.J&&(x.QX.hide(),g.Z7(x.q$),g.HN(x.context.W.getRootNode(),g.Ch.IV_DRAWER_OPEN),x.J=!1,Wv(x.W),x.N&&x.N.stop(),x.N=new g.gl(function(){x.gm&&(x.gm.focus(),x.gm=null)},330),x.N.start())},IOo=function(x){g.sV(x.eM(),
[g.Ch.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.QD(x.W,x.K,5);x.Y6();x.B=g.DE("ytp-cards-button",x.W.getRootNode());x.Uk=g.DE("iv-drawer-close-button",x.K);x.isInitialized=!0},eLS=function(x){x.t5.push(g.X4("iv-teaser-shown",x.IP,x));
x.t5.push(g.X4("iv-teaser-hidden",x.gim,x));x.t5.push(g.X4("iv-teaser-clicked",x.aP,x));x.Nj=!0},JEW=function(x,u){var k;
return u.onClickCommand&&((k=g.d(u.onClickCommand,g.s5B))==null?void 0:k.targetId)==="engagement-panel-error-corrections"?(x.RS=u,!0):!1},Ps9=function(x,u){x.RS=u;
var k=x.W.getVideoData();if(!k)return!1;k=g.ik(k);if(k==null?0:k.markersMap)for(var U,m=0;((U=k)==null?void 0:U.markersMap.length)>m;m++){var F=void 0,f=(F=k)==null?void 0:F.markersMap[m];if(f.key==="ERROR_CORRECTION_MARKERS"&&(F=void 0,(f=(F=f.value)==null?void 0:F.markers)&&f.length>0))return U=void 0,u.startMs=((U=g.d(f[0],g.BC$))==null?void 0:U.timeRangeStartMillis)||0,x.RS=null,!0}return!1},o_=function(x,u){if(!JEW(x,u)||Ps9(x,u)){var k=N9$(x,u);
if(k){var U={X6:u,rT:k.element,jG:!1};if(u.onClickCommand)x.W.G("web_infocards_teaser_show_logging_fix")&&(x.Nj||eLS(x),aOG(x,u.id),k=x.findLastIndex(U),g.ma(x.cards,k,0,U));else{x.isInitialized||IOo(x);aOG(x,u.id);var m=x.findLastIndex(U);g.ma(x.cards,m,0,U);k.pm(x.V,m);x.UB()}u.autoOpen?x.addCueRange(u.startMs,0x8000000000000,u.id,function(){x.J||(x.S=U,gE(x),dam(x,U),SR(x,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(k=x.context.W.getCurrentTime()*1E3,k<5E3&&k>u.startMs&&KrW(x,U),x.addCueRange(u.startMs,
u.startMs+1,u.id,function(){KrW(x,U)}),gE(x))}}},N9$=function(x,u){switch(u.type){case "simple":x=x.Ok;
var k=u.displayDomain?{T:"div",Z:"iv-card-image-text",VX:u.displayDomain}:void 0;var U=WrS(u);k={T:"div",W$:["iv-card"],L:[{T:"a",Z:"iv-click-target",C:{href:u.url?dV(u.url)||"":""},L:[TO(u.imageUrl,k),{T:"div",Z:"iv-card-content",L:[vv("h2",void 0,u.title),U]}]}]};k=new g.T(k);AJ(x,g.Cw("iv-click-target",k.element),u,u.url);u=k;break;case "collaborator":x=x.Ok;k={T:"div",W$:["iv-card","iv-card-channel"],L:[{T:"a",W$:["iv-click-target"],C:{href:dV(u.url)||"","data-ytid":u.channelId},L:[TO(u.profileImageUrl),
{T:"div",Z:"iv-card-content",L:[GNS(u),{T:"h2",Z:"iv-card-primary-link",VX:u.title},zLk(u)]}]}]};k=new g.T(k);AJ(x,g.Cw("iv-click-target",k.element),u,u.url);u=k;break;case "playlist":x=x.Ok;k={T:"div",W$:["iv-card","iv-card-playlist"],L:[{T:"a",Z:"iv-click-target",C:{href:dV(u.url)||""},L:[TO(u.G5,{T:"div",Z:"iv-card-image-overlay",L:[{T:"span",Z:"iv-card-playlist-video-count",VX:u.playlistVideoCount}]}),{T:"div",Z:"iv-card-content",L:[GNS(u),vv("h2","iv-card-primary-link",u.title),zLk(u)]}]}]};
k=new g.T(k);AJ(x,g.Cw("iv-click-target",k.element),u,u.url);u=k;break;case "productListing":x=x.Ok;var m=u.offers.length!=0;k=["iv-card"];U="";var F=WrS(u);m&&(k.push("iv-card-product-listing"),U="iv-card-primary-link",F=u.offers[0],m=[],F.price&&m.push({T:"div",Z:"iv-card-offer-price",VX:F.price}),F.merchant&&m.push({T:"div",Z:"iv-card-offer-merchant",VX:F.merchant}),F={T:"div",L:m});m=u.url?dV(u.url)||"":"";k={T:"div",W$:k,C:{tabindex:"0"},L:[{T:"a",W$:["iv-card-image","iv-click-target"],C:{style:"background-image: url("+
u.imageUrl+");",href:m,"aria-hidden":"true",tabindex:"-1"}},{T:"div",Z:"iv-card-content",L:[u.sponsored?{T:"div",Z:"iv-card-sponsored",L:["Sponsored",{T:"div",Z:"iv-ad-info-container",L:[{T:"div",Z:"iv-ad-info",VX:"{{adInfo}}"},{T:"div",Z:"iv-ad-info-icon-container",L:[{T:"div",Z:"iv-ad-info-icon"},{T:"div",Z:"iv-ad-info-callout"}]}]}]}:"",{T:"a",Z:"iv-click-target",C:{href:m},L:[vv("h2",U,u.title),F]}]}]};k=new g.T(k);U=g.gF("span");g.VU(U,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
k.sF(U,"adInfo");AJ(x,g.Cw("iv-click-target",k.element),u,u.url);u=k;break;case "video":x=x.Ok;U=u.videoDuration?{T:"span",Z:"iv-card-video-duration",VX:u.videoDuration}:void 0;F=u.isLiveNow?{T:"span",W$:["yt-badge","yt-badge-live"],VX:"LIVE NOW"}:null;m={T:"div",W$:["iv-card","iv-card-video"],L:[{T:"a",Z:"iv-click-target",C:{href:((k=u.url)==null?void 0:dV(k))||""},L:[TO(u.G5,U),{T:"div",Z:"iv-card-content",L:[GNS(u),vv("h2","iv-card-primary-link",u.title),zLk(u),F]}]}]};k=new g.T(m);AJ(x,g.Cw("iv-click-target",
k.element),u,u.url);u=k;break;default:return null}return u},v1m=function(x){if(x.S)return x.S.X6.type==="productListing";
if(x.W.G("enable_wn_infocards")){var u;return!((u=x.cards)==null||!u.length)&&g.$L(x.cards,function(k){return k.X6.type==="productListing"})}return g.$L(x.cards,function(k){return k.X6.type==="productListing"})},gE=function(x){g.pb(x.W.getRootNode(),"ytp-cards-shopping-active",v1m(x))},KrW=function(x,u){if(!g.XH(x.W.getRootNode(),"ytp-cards-teaser-shown")){if(x.S!==u){var k=g.rK(),U=x.S?x.S.X6.U_:x.U_;
k&&U&&g.he(k,[U]);x.S=u;gE(x)}(k=x.isInitialized&&x.eM().style.display=="none")||(k=x.context.W.getPlayerState(),U=k===0&&x.context.W.getCurrentTime()===0,k=!(k===1||k===3||U));k||u.X6.teaserDurationMs&&x.W.tJ(!0,{teaserText:u.X6.teaserText,durationMs:u.X6.teaserDurationMs,onClickCommand:u.X6.onClickCommand});x.P$.isActive()||((!x.J||!x.nm.isActive()&&x.c$)&&dam(x,u),x.P$.start(910+u.X6.teaserDurationMs))}},dam=function(x,u){x.U.Tx?(u=new $z([0,
x.V.scrollTop],[0,u.rT.offsetTop],600,SU$),x.context.J.listen(u,"animate",function(k){x.V.scrollTop=k.y}),x.context.J.listen(u,"finish",function(k){x.V.scrollTop=k.y}),u.play()):(x.U.J9(!0),x.V.scrollTop=u.rT.offsetTop,x.U.J9(!1))},kO=function(x){return x.S&&x.S.X6?x.S.X6:x.cards[0]&&x.cards[0].X6?x.cards[0].X6:null},Z6G=function(x,u){return g.Cm(x.cards,function(k){return k.X6.id===u})},UD=function(x,u,k){CB.call(this,x,u);
this.annotation=k;this.isActive=!1},T9o=function(x){var u=x.annotation.data;
"start_ms"in u&&"end_ms"in u&&x.addCueRange(Number(u.start_ms),Number(u.end_ms),x.annotation.id,function(){x.show()},function(){x.hide()})},mo=function(x,u,k){UD.call(this,x,u,k);
this.V=null;this.D=!1;this.J=null;this.K=!1;this.S=this.j=this.N=null},AEt=function(x,u){var k=k===void 0?0:k;
var U=NPw(u).width;g.YS(u,U);k=new L7t(u,[U,u.offsetTop],[U-U-k,u.offsetTop],200,DeW);g.P(x,k);x.context.J.listen(k,"begin",function(){g.$S(u,!0)});
k.play()},Das=function(x,u){if(u.channel_name){var k=x.createElement({T:"div",
W$:["iv-branding-context-name"],VX:u.channel_name}),U=x.createElement({T:"div",W$:["iv-branding-context-subscribe"]}),m=u.standalone_subscribe_button_data;m&&(x.S=new g.ou(m.subscribeText,m.subscribeCount,m.unsubscribeText,m.unsubscribeCount,!!m.enabled,!!m.classic,u.channel_id,!!m.subscribed,m.feature,u.session_data.itct,x.context.W,!1),x.S.pm(U));var F=x.createElement({T:"div",W$:["iv-branding-context-subscribe-caret"]}),f=x.createElement({T:"div",W$:["branding-context-container-inner"]});f.appendChild(F);
f.appendChild(k);f.appendChild(U);g.$S(f,!1);var V=x.createElement({T:"div",W$:["branding-context-container-outer"]});V.appendChild(f);g.Rd(V,"right",u.image_width+"px");g.U9(x.eM(),V);x.J=new g.gl(function(){Cs$(x,f,V)},500);
g.P(x,x.J);x.context.S.listen(x.eM(),"mouseover",function(){LrG(x,f,V,F,u.image_height)});
x.context.S.listen(x.eM(),"mouseout",function(){x.J.start()})}},LrG=function(x,u,k,U,m){x.J.stop();
if(!x.K){var F=g.nq(u);x.S||(u.style.width=g.yB(F.width,!0),k.style.width=g.yB(F.width,!0));g.Rd(U,"top",F.height-Math.max(Math.min(F.height,m)/2+10,20)+"px");g.Rd(U,"right","1px");x.K=!0;g.$S(u,!0);x.N=new g.gl(function(){g.qN(this.eM(),"iv-branding-active")},0,x);
x.N.start()}},Cs$=function(x,u,k){g.HN(x.eM(),"iv-branding-active");
x.j=new g.gl(function(){g.$S(u,!1);x.S||(k.style.width=g.yB(0,!0))},250);
x.j.start();x.K=!1},SXo=function(x,u,k,U,m,F,f){this.S=x;
this.J=u;this.x$=k;this.videoData=U;this.logger=m;this.W=F;this.V=f},B9W=function(x,u,k){UD.call(this,x,u,k);
var U=this;this.B=this.isCollapsed=this.U=!1;this.j=5E3;this.V=this.J=this.S=this.K=null;this.D=this.createElement({T:"div",W$:["iv-promo-contents"]});this.N=new g.gl(function(){U.S.setAttribute("aria-hidden","true");g.$S(U.J,!1);g.$S(U.V,!0)},700,this);
g.P(this,this.N)},xom=function(x){var u=x.annotation.data;
if(x.annotation.style==="cta")var k=6;else if(x.annotation.style==="video"||x.annotation.style==="playlist")k=7;x.j=u.collapsedelay_ms||x.j;var U=["iv-promo","iv-promo-inactive"];x.eM().setAttribute("aria-hidden","true");x.eM().setAttribute("aria-label","Promotion");x.eM().tabIndex=0;var m=x.annotation.j$(),F=u.image_url;if(F){var f=x.createElement({T:"div",W$:["iv-promo-img","iv-click-target"]});F=x.createElement({T:"img",C:{src:F,"aria-hidden":"true"}});f.appendChild(F);u.video_duration&&!u.is_live?
(F=x.createElement({T:"span",Z:"iv-promo-video-duration",VX:u.video_duration}),f.appendChild(F)):u.playlist_length&&(F=x.createElement({T:"span",Z:"iv-promo-playlist-length",VX:u.playlist_length.toString()}),f.appendChild(F));m&&LB(x,f,m,x.annotation.id,u.session_data,void 0,k)}m?(F=x.createElement({T:"a",Z:"iv-promo-txt"}),g.Qg(F,dV(m)),x.S=F):x.S=x.createElement({T:"div",Z:"iv-promo-txt"});switch(x.annotation.style){case "cta":case "website":var V=x.createElement({T:"p",L:[{T:"strong",VX:u.text_line_1}]});
var h=x.createElement({T:"p",L:[{T:"span",Z:"iv-promo-link",VX:u.text_line_2}]});if(F=u.text_line_3){U.push("iv-promo-website-card-cta-redesign");var X=x.createElement({T:"button",W$:["iv-promo-round-expand-icon","ytp-button"]});F=x.createElement({T:"button",W$:["iv-button","iv-promo-button"],L:[{T:"span",Z:"iv-button-content",VX:F}]});var q=x.createElement({T:"div",Z:"iv-promo-button-container"});q.appendChild(F);m&&LB(x,x.eM(),m,x.annotation.id,u.session_data,void 0,k)}g.qN(x.S,"iv-click-target");
m&&LB(x,x.S,m,x.annotation.id,u.session_data,void 0,k);break;case "playlist":case "video":V=x.createElement({T:"p",L:[{T:"span",VX:u.text_line_1}]}),h=x.createElement({T:"p",L:[{T:"strong",VX:u.text_line_2}]}),u.is_live&&(V=h,h=x.createElement({T:"span",W$:["yt-badge","iv-promo-badge-live"],VX:"LIVE NOW"})),g.qN(x.S,"iv-click-target"),m&&LB(x,x.S,m,x.annotation.id,u.session_data,void 0,k),U.push("iv-promo-video")}V&&x.S.appendChild(V);h&&x.S.appendChild(h);x.D.appendChild(x.S);q&&x.D.appendChild(q);
k=x.createElement({T:"div",Z:"iv-promo-actions"});x.V=x.createElement({T:"button",W$:["iv-promo-expand","ytp-button"]});x.V.title="Expand";x.context.S.listen(x.V,"click",function(H){oGo(x,5E3,H)});
k.appendChild(x.V);g.$S(x.V,!1);x.context.S.listen(x.eM(),"mouseover",x.imm,x);x.context.S.listen(x.eM(),"mouseout",x.lGk,x);x.context.S.listen(x.eM(),"touchend",function(H){oGo(x,5E3,H)});
x.J=x.createElement({T:"button",W$:["iv-promo-close","ytp-button"]});x.J.title="Close";x.context.S.listen(x.J,"click",x.annotation.style==="cta"&&u.text_line_3?x.p$J:x.ut$,x);k.appendChild(x.J);g.sV(x.eM(),U);f&&(g.U9(x.eM(),f),X&&f.appendChild(X));g.U9(x.eM(),x.D);g.U9(x.eM(),k)},oGo=function(x,u,k){k.stopPropagation();
uNW(x);gGs(x,u);x.S.focus()},k4w=function(x){x.isCollapsed||x.B||x.K||(g.qN(x.eM(),"iv-promo-collapsed"),x.isCollapsed=!0,x.N.start())},uNW=function(x){x.N.stop();
x.isCollapsed&&(g.R0(x.eM(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),x.isCollapsed=!1,x.S&&x.S.removeAttribute("aria-hidden"),g.$S(x.V,!1),g.$S(x.J,!0))},gGs=function(x,u){x.K||(x.K=g.O7(function(){Uot(this);
k4w(this)},u,x))},Uot=function(x){x.K&&(g.JY.clearTimeout(x.K),x.K=null)},mo$=function(x){this.W=x},Q4s=function(x,u,k){u&&(k?F3(x,u.map(function(U){return g.aT(U,k)})):F3(x,u))},F3=function(x,u,k,U){var m=1,F=void 0,f=-1;
if(k){var V=!1;F=function(){m--;m||V||(clearTimeout(f),V=!0,k())};
f=setTimeout(function(){V=!0;k()},1E3)}u=g.w(u||[]);
for(var h=u.next();!h.done;h=u.next())h=h.value,m++,g.Aq(h,F);U&&(m++,U!==0&&x.W.sendVideoStatsEngageEvent(U,F))},FTm=function(x){g.wj.call(this,x);
var u=this;this.t5=this.B=!1;this.loadNumber=0;this.j={};this.logger=new mo$(this.player);this.K=new g.Pr(this);this.N=this.D=null;this.events=new g.Pr(this);this.FJ=this.U=this.S=null;this.RS=[];g.P(this,this.K);this.K.Y(this.player,"onVideoAreaChange",function(){u.publish("onVideoAreaChange")});
this.K.Y(this.player,"onHideControls",function(){u.publish("onHideControls")});
this.K.Y(this.player,"onShowControls",function(){u.publish("onShowControls")});
this.K.Y(this.player,"resize",function(U){u.publish("resize",U)});
this.K.Y(this.player,"presentingplayerstatechange",function(U){u.publish("presentingplayerstatechange",U)});
this.subscribe("presentingplayerstatechange",this.GE,this);this.subscribe("resize",this.AF,this);this.player.X().gm.subscribe("vast_info_card_add",this.L_,this);g.P(this,this.events);this.Ok=this.createElement({T:"div",Z:"video-custom-annotations"});this.V=new g.T({T:"div",W$:["ytp-player-content","ytp-iv-player-content"]});g.P(this,this.V);g.QD(this.player,this.V.element,4);this.V.hide();this.J=new g.T({T:"div",W$:["ytp-iv-video-content"]});g.P(this,this.J);x=this.createElement({T:"div",Z:"video-annotations"});
x.appendChild(this.Ok);this.J.element.appendChild(x);this.n1()&&this.load();var k=this.createElement({T:"style"});(g.A0("HEAD")[0]||document.body).appendChild(k);this.addOnDisposeCallback(function(){g.fk(k)});
if(x=k.sheet)x.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),x.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),x.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),x.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),x.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),x.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),x.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),x.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),x.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),x.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},fEm=function(x){x=x.createElement({T:"div",
W$:["annotation","annotation-type-custom"]});g.$S(x,!1);return x},bw$=function(x,u){u=!u.isCued()&&!g.A(u,1024);
x.V.J9(u);x.J.J9(u)},VyB=function(x,u,k){x.B=!0;
x.N=g.$c(u,k)},hvs=function(x,u){for(var k={},U=g.w(u.attributes),m=U.next();!m.done;m=U.next())m=m.value,k[m.name]=m.nodeValue;
for(U=0;U<u.childNodes.length;U++)if(m=u.childNodes[U],g.CR(m)&&m.nodeType==1){if(k[m.tagName])var F=k[m.tagName];else if(m.tagName==="data"){m.childNodes.length>0&&(F=m.childNodes[0].nodeValue,k[m.tagName]=typeof F==="string"?F.trim():F);continue}else F=[],k[m.tagName]=F;m&&m.tagName==="TEXT"?m.childNodes.length===1&&m.childNodes[0].nodeType===3?F.push(m.childNodes[0].nodeValue):F.push(""):m&&F.push(hvs(x,m))}return k},HwW=function(x){var u=x.player.getVideoData();
if(u.B$){var k=x.player.X().gm.get(u.videoId);if(k){var U={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(m,F,f){m=x.loadNumber;F=u.videoId;x.loaded&&x.loadNumber===m&&x.player.getVideoData().videoId===F&&(f=g.y8(f)&&f.responseXML?f.responseXML:null)&&XeG(x,f)}};
g.FK()&&(U.onFinish=qp$(x,U.onFinish));U.postParams={ic_only:"1"};svw(U,k);x.B=!0;g.$c(u.B$,U)}}},svw=function(x,u){x.method="POST";
x.postParams=x.postParams||{};u.tA&&(x.postParams.ic_coll=u.tA);u.QN&&(x.postParams.ic_xml=u.QN);u.bU&&(x.postParams.ic_track=u.bU)},Rvk=function(x){var u=new g.T({T:"div"});
g.$S(u.element,!1);var k=new $as(x.player,u.element,ft(x));g.P(k,u);u.pm(x.V.element);k.nP();return k},c0W=function(x,u){var k,U;
if(u=(k=u.getWatchNextResponse())==null?void 0:(U=k.cards)==null?void 0:U.cardCollectionRenderer)x.t5=!0,peB(x,u),u.headerText&&x.FJ&&(k=g.te(u.headerText),x.FJ.setAttribute("title",k))},ft=function(x){if(!x.U){var u=new BPm(x);
g.P(x,u);var k=new g.iQ(x);g.P(x,k);x.U=new SXo(u,k,x.player.X(),x.player.getVideoData(),x.logger,x.player,x.Po)}return x.U},XeG=function(x,u){var k=!1,U=u.getElementsByTagName("annotations");
if(U&&!(U.length<1)&&(U=U[0].getAttribute("itct"))){var m=g.rK();if(m){var F=g.$Y();F&&g.UQ(g.oe)(void 0,m,F,[g.ld(U)])}}u=u.getElementsByTagName("annotation");for(U=0;U<u.length;U++){F=hvs(x,u[U]);m=null;try{if(F){var f=F.id,V=/.+/;var h=typeof f==="string"&&V!=null&&f!=null&&f.match(V)?f:"";var X=Nh(F.type,MyZ),q=Nh(F.style,weB),H=H6m(F.data),R=H.length!==0?JSON.parse(H):{};var p=F.action;F=yEw;if(p==null)var c=null;else if(g.AY(p)){V=[];for(var Y=g.w(p),E=Y.next();!E.done;E=Y.next()){var z=F(E.value);
z&&V.push(z)}c=V}else{var O=F(p);c=O?[O]:[]}m=h&&X?new YX9(h,X,q,c,R):null}else m=null}catch(kI){}if(m)if(m.type==="branding"||m.type==="promotion"){F=x;V=m;var r=fEm(F),I=null;switch(V.type){case "branding":if(F.player.X().Xv)break;F.V.element.appendChild(r);I=new mo(r,ft(F),V);break;case "promotion":g.QD(F.player,r,4),I=new B9W(r,ft(F),V)}I&&I.nP();if(F=I)g.P(x,F),x.j[m.id]=F}else if(m.type==="card"||m.type==="drawer"){x.S||(x.S=Rvk(x),g.P(x,x.S));if(m.type==="card"){r=x.S;var N=(k=m)&&k.data&&
k.data.card_type;m=k.data;if(N)switch(F=m.tracking||{},F={ix:F.impression,click:F.click,close:F.close,GJ:F.teaser_impression,yP:F.teaser_click},V=m.tracking_params||{},I=null,N){case "collaborator":k={id:k.id,timestamp:m.timestamp||0,type:m.card_type,teaserText:m.teaser_text,teaserDurationMs:m.teaser_duration_ms,startMs:m.start_ms,autoOpen:m.auto_open||!1,sessionData:m.session_data||{},sponsored:m.sponsored||!1,T0:F,RD:V.card?g.ld(V.card):null,vA:V.teaser?g.ld(V.teaser):null,U_:V.icon?g.ld(V.icon):
null,channelId:m.channel_id,customMessage:m.custom_message?m.custom_message:null,profileImageUrl:m.image_url,title:m.title,metaInfo:m.meta_info,url:KB({pause_on_navigation:m.pause_on_navigation,target:m.target||"new",value:m.url}),onClickCommand:null};o_(r,k);break;case "playlist":k={id:k.id,timestamp:m.timestamp||0,type:m.card_type,teaserText:m.teaser_text,teaserDurationMs:m.teaser_duration_ms,startMs:m.start_ms,autoOpen:m.auto_open||!1,sessionData:m.session_data||{},sponsored:m.sponsored||!1,T0:F,
RD:V.card?g.ld(V.card):null,vA:V.teaser?g.ld(V.teaser):null,U_:V.icon?g.ld(V.icon):null,G5:m.image_url,playlistVideoCount:m.playlist_video_count,customMessage:m.custom_message?m.custom_message:null,title:m.title,metaInfo:m.meta_info,url:KB({pause_on_navigation:m.pause_on_navigation,target:m.target||"new",value:m.url}),onClickCommand:null};o_(r,k);break;case "productListing":m.signin_url&&(I=KB({target:"current",value:m.signin_url}));N=[];for(var L=m.offers||[],C=0;C<L.length;C++)N.push(new O6Z(g.up(L[C].merchant),
g.up(L[C].price)));k={id:k.id,timestamp:m.timestamp||0,type:m.card_type,teaserText:m.teaser_text,teaserDurationMs:m.teaser_duration_ms,startMs:m.start_ms,autoOpen:m.auto_open||!1,sessionData:m.session_data||{},sponsored:m.sponsored||!1,T0:F,RD:V.card?g.ld(V.card):null,vA:V.teaser?g.ld(V.teaser):null,U_:V.icon?g.ld(V.icon):null,imageUrl:m.image_url,displayDomain:m.display_domain?m.display_domain:null,showLinkIcon:!!m.show_link_icon,E7:m.button_icon_url?m.button_icon_url:null,title:m.title,customMessage:m.custom_message?
m.custom_message:null,url:KB({pause_on_navigation:m.pause_on_navigation,target:m.target||"new",value:m.url}),Oj5:I,J$J:m.signin_title?m.signin_title:void 0,VxY:m.signin_message?m.signin_message:void 0,offers:N,onClickCommand:null};o_(r,k);break;case "simple":k={id:k.id,timestamp:m.timestamp||0,type:m.card_type,teaserText:m.teaser_text,teaserDurationMs:m.teaser_duration_ms,startMs:m.start_ms,autoOpen:m.auto_open||!1,sessionData:m.session_data||{},sponsored:m.sponsored||!1,T0:F,RD:V.card?g.ld(V.card):
null,vA:V.teaser?g.ld(V.teaser):null,U_:V.icon?g.ld(V.icon):null,imageUrl:m.image_url,displayDomain:m.display_domain?m.display_domain:null,showLinkIcon:!!m.show_link_icon,E7:m.button_icon_url?m.button_icon_url:null,title:m.title,customMessage:m.custom_message?m.custom_message:null,url:KB({pause_on_navigation:m.pause_on_navigation,target:m.target||"new",value:m.url}),onClickCommand:null};o_(r,k);break;case "video":k={id:k.id,timestamp:m.timestamp||0,type:m.card_type,teaserText:m.teaser_text,teaserDurationMs:m.teaser_duration_ms,
startMs:m.start_ms,autoOpen:m.auto_open||!1,sessionData:m.session_data||{},sponsored:m.sponsored||!1,T0:F,RD:V.card?g.ld(V.card):null,vA:V.teaser?g.ld(V.teaser):null,U_:V.icon?g.ld(V.icon):null,G5:m.image_url,videoDuration:m.video_duration||null,customMessage:m.custom_message?m.custom_message:null,title:m.title,metaInfo:m.meta_info,isLiveNow:!!m.is_live_now,url:KB({pause_on_navigation:m.pause_on_navigation,target:m.target||"new",value:m.url}),onClickCommand:null},o_(r,k)}}else rEm(x.S,m);k=!0}}k&&
(Wv(x.player),x.AF())},peB=function(x,u){var k=!1;
x.S||(x.S=Rvk(x),g.P(x,x.S));for(var U=g.w(u.cards||[]),m=U.next();!m.done;m=U.next())m=m.value,m.cardRenderer&&(j4k(x.S,m.cardRenderer),k=!0);if(k){var F;(F=x.player.getVideoData())!=null&&g.ZL(F)||(k=x.S,U=u.headerText?g.te(u.headerText):"",g.VU(k.RU,U),k.B&&k.B.setAttribute("title",U),k.context.videoData.eventId&&(k.eventId=k.context.videoData.eventId),k.ut=u.trackingParams?g.ld(u.trackingParams):null,k.D=u.closeButton.infoCardIconRenderer.trackingParams?g.ld(u.closeButton.infoCardIconRenderer.trackingParams):
null,k.U_=u.icon.infoCardIconRenderer.trackingParams?g.ld(u.icon.infoCardIconRenderer.trackingParams):null,x.AF());Wv(x.player)}},y0S=function(x,u,k,U,m){if(!x.player.X().Xv){var F=[];
u.navigationEndpoint&&g.d(u.navigationEndpoint,g.OS)&&g.d(u.navigationEndpoint,g.OS).browseId&&F.push(new cEs("openUrl","click",new RLm("/channel/"+g.d(u.navigationEndpoint,g.OS).browseId,"new",!0,!0)));var f=u.watermark.thumbnails[0];U={channel_name:u.channelName,end_ms:u.endTimeMs,image_height:f.height,image_type:1,image_url:f.url,image_width:f.width,is_mobile:!1,session_data:{annotation_id:k,ei:m,feature:"iv",itct:u.trackingParams,src_vid:U},start_ms:u.startTimeMs};if(u.subscribeButton&&g.d(u.subscribeButton,
g.i_)){U.channel_id=g.d(u.subscribeButton,g.i_).channelId;var V;u=g.d(u.subscribeButton,g.i_);f=m=null;u.subscribed?(u.subscriberCountWithUnsubscribeText&&(m=g.te(u.subscriberCountWithUnsubscribeText)),u.subscriberCountText&&(f=g.te(u.subscriberCountText))):(u.subscriberCountText&&(m=g.te(u.subscriberCountText)),u.subscriberCountWithSubscribeText&&(f=g.te(u.subscriberCountWithSubscribeText)));var h,X=((h=g.d((V=u.signInEndpoint)==null?void 0:V.commandMetadata,g.wC))==null?void 0:h.url)||"";V={subscribeText:g.te(u.unsubscribedButtonText),
subscribeCount:m||"",unsubscribeText:g.te(u.subscribedButtonText),unsubscribeCount:f||"",enabled:u.enabled||!1,classic:!1,subscribed:u.subscribed||!1,feature:"iv",signInUrl:X};U.standalone_subscribe_button_data=V}F=new YX9(k,"branding","branding",F,U);V=fEm(x);x.V.element.appendChild(V);F=new mo(V,ft(x),F);F.nP();g.P(F,F);x.j[k]=F}},qp$=function(x,u){return function(){var k=g.nR.apply(0,arguments);
x.Ft()||x.RS.push(g.Th.zg(function(){u.apply(null,g.t(k))}))}},Ypo=function(x){return x==="annotation-editor"||x==="live-dashboard"};
g.Oh.prototype.tJ=g.gQ(45,function(x,u){var k=g.jL(this.VI());k&&k.tJ(x,u)});
var iL={},lL=null;g.gs($z,g.cN);g.b=$z.prototype;g.b.getDuration=function(){return this.duration};
g.b.play=function(x){if(x||this.S==0)this.progress=0,this.coords=this.V;else if(this.isPlaying())return!1;nB(this);this.startTime=x=g.xw();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.K=this.startTime;this.progress||this.B0();this.YJ("play");this.isPaused()&&this.YJ("resume");this.S=1;var u=g.D$(this);u in iL||(iL[u]=this);vQ$();TPB(this,x);return!0};
g.b.stop=function(x){nB(this);this.S=0;x&&(this.progress=1);AZk(this,this.progress);this.onStop();this.Eq()};
g.b.pause=function(){this.isPlaying()&&(nB(this),this.S=-1,this.YJ("pause"))};
g.b.SJ=function(){this.S==0||this.stop(!1);this.YJ("destroy");$z.kR.SJ.call(this)};
g.b.destroy=function(){this.dispose()};
g.b.K2=function(){this.YJ("animate")};
g.b.YJ=function(x){this.dispatchEvent(new CNZ(x,this))};
g.gs(CNZ,g.IP);g.gs(rV,$z);rV.prototype.J=function(){};
rV.prototype.K2=function(){this.J();rV.kR.K2.call(this)};
rV.prototype.Eq=function(){this.J();rV.kR.Eq.call(this)};
rV.prototype.B0=function(){this.J();rV.kR.B0.call(this)};
g.gs(L7t,rV);L7t.prototype.J=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.M(BPm,g.J);g.b=BPm.prototype;g.b.listen=function(x,u,k,U){k=(0,g.B4)(k,U||this.V);x=g.OM(x,u,k);this.S.push(x);return x};
g.b.a5=function(x,u,k,U){k=(0,g.B4)(k,U||this.V);x=deZ(x,u,k);this.S.push(x);return x};
g.b.Fv=function(x){g.iR(x);g.Bk(this.S,x)};
g.b.removeAll=function(){g.iR(this.S);this.S.length=0};
g.b.SJ=function(){this.removeAll();g.J.prototype.SJ.call(this)};g.M(uiG,g.wj);g.b=uiG.prototype;g.b.load=function(){g.wj.prototype.load.call(this);if(!ag(this)){var x=g.Uuj(this.player.getVideoData());x?(x=xat(x,g1G(this)),Q1(this,x,!1)):kNG(this)}};
g.b.unload=function(){Q1(this,null);this.K&&(this.K.abort(),this.K=null);g.wj.prototype.unload.call(this)};
g.b.VG=function(x,u){return ag(this)?x==="loadCustomEndscreenRenderer"?(x=xat(u,"new"),Q1(this,x),!0):null:null};
g.b.getOptions=function(){return ag(this)?["loadCustomEndscreenRenderer"]:[]};
g.b.xV=function(){if(this.endscreen&&this.endscreen.elements){var x=this.player.getVideoContentRect();if(x&&x.width!==0&&x.height!==0){var u=this.player.getPlayerSize();if(u&&u.width!==0&&u.height!==0){var k=x.width/x.height;var U=0;for(var m=-1,F=0;F<tyw.length;F++){var f=Math.abs(u.width-tyw[F]);if(m===-1||U>=f)m=F,U=f}U=EG$[m];this.J&&g.Rd(this.J.element,"outline-width",Math.max(u.width,u.height)+"px");for(u=0;u<this.endscreen.elements.length;++u)if(F=this.endscreen.elements[u].id,m=this.V[F],
f=this.j[F],m&&f){var V=f.width*k/f.aspectRatio,h=Math.round(f.width*x.width);F=Math.round(V*x.height);var X=x.left+Math.round(f.left*x.width),q=x.top+Math.round(f.top*x.height);g.lM(m.element,h,F);g.YS(m.element,X,q);g.R0(m.element,G4m);h>256||F>256?g.qN(m.element,"ytp-ce-large-round"):h>96||F>96?g.qN(m.element,"ytp-ce-medium-round"):g.qN(m.element,"ytp-ce-small-round");g.R0(m.element,zvw);h=f.left+f.width/2;f=f.top+V/2;g.qN(m.element,h<=.5&&f<=.5?"ytp-ce-top-left-quad":h>.5&&f<=.5?"ytp-ce-top-right-quad":
h<=.5&&f>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.R0(m.element,EG$);g.qN(m.element,U);(m=g.Lw(document,"div","ytp-ce-expanding-overlay-body",m.element)[0])&&g.Rd(m,"height",F+"px")}}}}};
g.b.onCueRangeEnter=function(x){if(this.endscreen)if(x.getId()==="ytp-ce-in-endscreen")Pv(this,this.endscreen.impressionUrls),(x=g.rK())&&this.endscreen.visualElement&&g.b9(x,this.endscreen.visualElement),this.S&&(g.qN(this.S,"ytp-ce-element-show"),this.S.removeAttribute("aria-hidden"),this.player.p6()?g.qN(this.S,"ytp-ce-hide-button-lower"):g.HN(this.S,"ytp-ce-hide-button-lower"));else{x=x.getId().substring(15);var u=this.V[x],k=this.j[x];g.qN(u.element,"ytp-ce-element-show");u.element.removeAttribute("aria-hidden");
u=this.player.getRootNode();g.qN(u,"ytp-ce-shown");Pv(this,k.impressionUrls);(u=g.rK())&&g.b9(u,k.visualElement);this.player.X().D&&this.player.Xt("endscreenelementshown",x)}};
g.b.onCueRangeExit=function(x){if(x.getId()==="ytp-ce-in-endscreen")this.S&&(g.HN(this.S,"ytp-ce-element-show"),this.S.setAttribute("aria-hidden","true"));else{x=x.getId().substring(15);var u=this.V[x];g.HN(u.element,"ytp-ce-element-show");u.element.setAttribute("aria-hidden","true");u=this.player.getRootNode();g.HN(u,"ytp-ce-shown");this.player.X().D&&this.player.Xt("endscreenelementhidden",x)}};
g.b.UNt=function(x){var u=this;x.target===window&&(new g.gl(function(){for(var k=g.w(Object.values(u.V)),U=k.next();!U.done;U=k.next())g.R0(U.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.b.J9=function(x){for(var u=g.w(Object.values(this.V)),k=u.next();!k.done;k=u.next())k=k.value,x?k.element.setAttribute("hidden",""):k.element.removeAttribute("hidden")};
g.b.lWm=function(x){this.S&&this.player.getRootNode().removeChild(this.S);x&&(g.qN(x,"ytp-ce-hide-button-container"),this.S=x,g.QD(this.player,this.S,4))};
var tyw=[346,426,470,506,570,640,853,1280,1920],EG$="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),zvw=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],G4m=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var pnZ={gDt:"current",AKm:"new"};var MJt={CLOSE:"close",VIX:"openUrl",SUBSCRIBE:"subscribe"},wnw={M4X:"click",CLOSE:"close",qrk:"hidden",zJY:"rollOut",dL5:"rollOver",SCJ:"shown"};YX9.prototype.j$=function(){var x=tJm(this,function(u){return u.type==="openUrl"&&u.url!=null});
return x?x.url:null};
var weB={uO$:"anchored",Ct:"branding",CHANNEL:"channel",h$X:"cta",EtX:"highlightText",pkt:"label",PLAYLIST:"playlist",POPUP:"popup",uZY:"speech",SUBSCRIBE:"subscribe",qCm:"title",VIDEO:"video",VhJ:"website"},MyZ={Ct:"branding",P6X:"card",Z6X:"drawer",yIm:"highlight",Dy5:"marker",jyY:"promotion",TEXT:"text",rx$:"widget"};g.M(CB,g.J);g.b=CB.prototype;g.b.addCueRange=function(x,u,k,U,m){x=new g.V5(x,u,{id:k,namespace:"annotations_module"});U&&this.GY.set(x,U);m&&this.B$.set(x,m);this.context.W.tO([x],1)};
g.b.nP=function(){this.context.V.subscribe("resize",this.UB,this)};
g.b.eM=function(){return this.element};
g.b.kM=function(x,u,k,U,m,F){if(this.oS)return!1;F&&(F.stopPropagation(),F.preventDefault());this.navigate(x,k,U,m);return!1};
g.b.show=function(){};
g.b.hide=function(){};
g.b.destroy=function(){g.fk(this.eM())};
g.b.UB=function(){};
g.b.navigate=function(x,u,k,U){var m=this,F=dV(x);if(F){var f=lO9(F,x.target),V=function(){x.S&&m.context.W.pauseVideo();var h=m.context.videoData.tN||!1,X=g.hX(F||"");h&&X&&(X.v||X.list)?m.context.W.ZR(X.v,u,X.list,!1):g.DW(F||"",f==="current"?"_top":void 0,u)};
f==="new"&&(V(),V=null);F3(this.context.logger,k,V,U);i6S(F)||(k=g.rK(),U=u.itct,k&&U&&g.Xy(k,g.ld(U)))}};
g.b.SJ=function(){this.GY.clear();this.B$.clear();g.J.prototype.SJ.call(this)};
g.b.createElement=function(x){x=new g.T(x);g.P(this,x);return x.element};g.M($as,CB);g.b=$as.prototype;g.b.B3=function(){this.RS&&o_(this,this.RS)};
g.b.isAvailable=function(){var x;if(x=!!this.cards.length)(x=this.W.getRootNode())?(x=g.nq(x),x=173<x.width&&173<x.height):x=!1;return x};
g.b.UB=function(){var x=this.isAvailable();g.$S(this.eM(),x);g.pb(this.context.W.getRootNode(),g.Ch.IV_DRAWER_ENABLED,x);Wv(this.W)};
g.b.destroy=function(){this.W.tJ(!1);try{this.W.getRootNode().removeChild(this.K)}catch(x){}g.qb(this.t5);g.Z7(this.q$);this.IS&&this.IS.dispose();this.N&&this.N.dispose();CB.prototype.destroy.call(this)};
g.b.Y6=function(){var x=this;this.context.S.listen(g.DE("iv-drawer-close-button",this.K),"click",this.Mi,this);this.context.S.listen(this.V,"touchend",function(){x.nm.start()});
this.context.S.listen(this.V,"scroll",this.Zy,this);this.context.V.subscribe("onHideControls",function(){x.c$=!0});
this.context.V.subscribe("onShowControls",function(){x.c$=!1});
this.context.V.subscribe("onVideoAreaChange",function(){x.c$=g.XH(x.W.getRootNode(),"ytp-autohide")});
this.t5.push(g.X4("iv-button-shown",this.h6t,this));this.t5.push(g.X4("iv-button-hidden",this.F$t,this));eLS(this)};
g.b.findLastIndex=function(x){if(this.cards.length===0)return 0;var u=g.Lm(this.cards,function(k){return x.X6.startMs>k.X6.startMs||x.X6.startMs===k.X6.startMs&&x.X6.timestamp>=k.X6.timestamp?!0:!1});
return u===-1?0:u+1};
g.b.Mi=function(){if(this.J){F3(this.context.logger,kO(this).T0.close);var x=g.rK();x&&this.D&&g.Xy(x,this.D);Bv(this)}};
g.b.Zy=function(){g.pb(this.K,"iv-drawer-scrolled",this.V.scrollTop>0)};
g.b.h6t=function(){var x=g.rK(),u=kO(this);u=u?u.U_:this.U_;x&&u&&g.VY(x,[u])};
g.b.F$t=function(){var x=g.rK(),u=kO(this);u=u?u.U_:this.U_;x&&u&&g.he(x,[u])};
g.b.IP=function(){var x=kO(this);F3(this.context.logger,x.T0.GJ);var u=g.rK();if(u&&x)if(this.W.G("web_infocards_teaser_show_logging_fix")){var k=[];x.vA&&k.push(x.vA);x.U_&&k.push(x.U_);k.length>0&&g.VY(u,k)}else g.VY(u,[x.vA,x.U_])};
g.b.gim=function(){var x=g.rK(),u=kO(this);x&&u&&g.he(x,[u.vA])};
g.b.aP=function(x){var u=kO(this),k=g.rK();this.S?x?(x=this.context.logger,F3(x,u.T0.yP),x.W.sendVideoStatsEngageEvent(4,void 0),k&&u.vA&&g.Xy(k,u.vA)):(x=this.context.logger,F3(x,u.T0.yP),x.W.sendVideoStatsEngageEvent(4,void 0),k&&u.U_&&g.Xy(k,u.U_)):(x=this.context.logger,F3(x,u.T0.yP),x.W.sendVideoStatsEngageEvent(4,void 0),k&&this.U_&&g.Xy(k,this.U_))};g.M(UD,CB);UD.prototype.nP=function(){CB.prototype.nP.call(this);T9o(this)};
UD.prototype.show=function(){CB.prototype.show.call(this);var x=g.rK(),u=this.annotation.data;x&&u&&(u=u.session_data)&&g.VY(x,[g.ld(u.itct)])};
UD.prototype.hide=function(){CB.prototype.hide.call(this);var x=g.rK(),u=this.annotation.data;x&&u&&(u=u.session_data)&&g.he(x,[g.ld(u.itct)])};g.M(mo,UD);
mo.prototype.show=function(){if(!this.isActive){UD.prototype.show.call(this);if(!this.D){g.qN(this.eM(),"iv-branding");var x=this.annotation.data;this.V=this.createElement({T:"img",W$:["branding-img","iv-click-target"],C:{"aria-label":"Channel watermark",src:x.image_url,width:x.image_width,height:x.image_height}});g.$S(this.V,!1);var u=this.createElement({T:"button",W$:["branding-img-container","ytp-button"]});u.appendChild(this.V);this.eM().appendChild(u);var k=this.annotation.j$();k&&LB(this,u,
k,this.annotation.id,x.session_data);this.context.W.G("disable_branding_context")||Das(this,x);this.D=!0}g.$S(this.eM(),!0);this.isActive=!0;if(this.V){try{AEt(this,this.V)}catch(U){}g.qN(this.context.W.getRootNode(),"ytp-branding-shown");this.context.W.getRootNode().style.setProperty("--branding-image-width",this.V.getAttribute("width")+"px")}}};
mo.prototype.hide=function(){this.isActive&&(UD.prototype.hide.call(this),g.$S(this.eM(),!1),this.isActive=!1,g.HN(this.context.W.getRootNode(),"ytp-branding-shown"))};
mo.prototype.destroy=function(){this.S&&(this.S.dispose(),this.S=null);g.HN(this.context.W.getRootNode(),"ytp-branding-shown");UD.prototype.destroy.call(this)};g.M(B9W,UD);g.b=B9W.prototype;g.b.show=function(){this.isActive||(UD.prototype.show.call(this),this.U||(xom(this),this.U=!0),g.$S(this.eM(),!0),g.O7(function(){g.HN(this.eM(),"iv-promo-inactive")},100,this),this.eM().removeAttribute("aria-hidden"),this.isActive=!0,Uot(this),uNW(this),gGs(this,this.j))};
g.b.hide=function(){this.isActive&&(g.qN(this.eM(),"iv-promo-inactive"),this.isActive=!1,this.eM().setAttribute("aria-hidden","true"))};
g.b.kM=function(x,u,k,U,m,F){return this.isCollapsed?!1:UD.prototype.kM.call(this,x,u,k,U,m,F)};
g.b.imm=function(x){this.B=!0;oGo(this,500,x)};
g.b.lGk=function(){this.B=!1;k4w(this)};
g.b.ut$=function(x){x.stopPropagation();this.hide()};
g.b.p$J=function(x){x.stopPropagation();Uot(this);this.isCollapsed=!0;g.qN(this.eM(),"iv-promo-collapsed-no-delay");this.N.start()};
g.b.destroy=function(){this.N.dispose();UD.prototype.destroy.call(this)};g.M(FTm,g.wj);g.b=FTm.prototype;g.b.VG=function(x,u){if(!Ypo(this.player.X().playerStyle))return null;switch(x){case "loadCustomAnnotationsXml":return(x=g.L2(u))&&XeG(this,x),!0;case "removeCustomAnnotationById":return u&&this.S&&(aOG(this.S,u),Wv(this.player)),!0}return null};
g.b.getOptions=function(){return Ypo(this.player.X().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.b.n1=function(){var x=this.player.X(),u=this.player.getVideoData(),k=x.annotationsLoadPolicy||u.annotationsLoadPolicy;return g.kg(u)||this.player.isMutedByEmbedsMutedAutoplay()?!1:k===1&&!u.Bv||x.gm.get(u.videoId)||g.as(u)||g.Qm(u)?!0:!1};
g.b.AF=function(){if(this.J){var x=this.player.Cm().getVideoContentRect(!0);g.lM(this.J.element,x.width,x.height);g.YS(this.J.element,x.left,x.top)}if(this.S){var u=this.player.QL();x=this.S;u=u.width;g.pb(x.K,"iv-drawer-small",u<=426);g.pb(x.K,"iv-drawer-big",u>=1280)}};
g.b.GE=function(x){bw$(this,x.state);g.A(x.state,2)&&(this.p6()&&this.xj()&&this.player.getPresentingPlayerType()!==2&&this.Rx(!1),this.tJ(!1))};
g.b.load=function(){function x(f){var V=u.loadNumber;u.N=null;u.loaded&&u.loadNumber===V&&u.player.getVideoData().videoId===U&&(f=g.y8(f)&&f.responseXML?f.responseXML:null)&&(XeG(u,f),g.qN(u.player.getRootNode(),"iv-module-loaded"))}
var u=this;g.wj.prototype.load.call(this);bw$(this,this.player.getPlayerStateObject());this.loadNumber++;var k=this.player.getVideoData(),U=k.videoId;g.FK()&&(x=qp$(this,x));var m={format:"XML",onFinish:x,onError:function(){u.N=null},
urlParams:{}};k.isPharma&&(m.urlParams.pharma="1");m.method="POST";m.withCredentials=!0;var F=this.player.X().gm.get(U);F&&svw(m,F);F=F&&(F.QN||F.tA);if(!k.Me||F)k.B$?VyB(this,k.B$,m):(this.D=function(){if(!u.B)u.onVideoDataChange(m);var f=u.player.getVideoData();(f==null?0:g.ZL(f))&&!u.t5&&c0W(u,f)},this.player.addEventListener("videodatachange",this.D));
g.QD(this.player,this.J.element,4);this.AF();(F=g.as(k))&&peB(this,F);(F=g.Qm(k))&&F.featuredChannel&&y0S(this,F.featuredChannel,F.annotationId||"branding",k.videoId||null,k.eventId||null);this.FJ=g.DE("ytp-cards-button",this.player.getRootNode());g.ZL(k)&&c0W(this,k)};
g.b.onVideoDataChange=function(x){var u=this.player.getVideoData();u.B$&&VyB(this,u.B$,x)};
g.b.unload=function(){this.player.Gw("annotations_module");for(var x=g.w(Object.keys(this.j)),u=x.next();!u.done;u=x.next())this.j[u.value].destroy();this.U=null;this.S&&(this.S.destroy(),this.S=null,Wv(this.player));this.B=!1;this.N&&(this.N.abort(),this.N=null);this.t5=!1;this.j={};this.V.hide();g.wj.prototype.unload.call(this);this.J.detach();this.D&&(this.player.removeEventListener("videodatachange",this.D),this.D=null)};
g.b.L_=function(x){x===this.player.getVideoData().videoId&&(this.loaded?HwW(this):this.load())};
g.b.p6=function(){var x;return((x=this.S)==null?void 0:x.isAvailable())||this.t5};
g.b.xj=function(){return!!this.S&&this.S.J};
g.b.Rx=function(x,u,k){u=u===void 0?!1:u;this.p6();this.S&&(x?k?SR(this.S,k,u):SR(this.S,"YOUTUBE_DRAWER_AUTO_OPEN",u):Bv(this.S))};
g.b.tJ=function(x,u){this.player.publish(x?"cardsteasershow":"cardsteaserhide",u)};
g.b.SJ=function(){this.player.X().gm.unsubscribe("vast_info_card_add",this.L_,this);g.HN(this.player.getRootNode(),g.Ch.IV_DRAWER_OPEN);for(var x=this.RS,u=g.Th,k=0,U=x.length;k<U;k++)u.WA(x[k]);this.RS.length=0;g.wj.prototype.SJ.call(this)};
g.b.createElement=function(x){x=new g.T(x);g.P(this,x);return x.element};g.M2("annotations_module",FTm);g.M2("creatorendscreen",uiG);})(_yt_player);
